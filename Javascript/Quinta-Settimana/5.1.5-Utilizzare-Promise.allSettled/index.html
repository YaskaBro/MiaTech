<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Esercizi Javascript</title>
  </head>
  <body>
    <h1>
      Ho provato a snellire il codice rispetto alla fonte linkata nella lezione
    </h1>
    <script>
      /*const miaPromise = new Promise((resolve, reject) => {
        // Corpo della funzione
        let successo = false; // Simulazione di una condizione

        if (successo) {
          resolve("Operazione riuscita!"); // Risolve la promise
        } else {
          reject("Operazione fallita"); // Rifiuta la promise
        }
      });

      // Utilizzo di una Promise
      miaPromise
        .then((risultato) => {
          console.log(risultato); // Viene eseguito se la promise è risolta
        })
        .catch((errore) => {
          console.log(errore); // Viene eseguito se la promise è rifiutata
        })
        .finally(() => {
          console.log("Promise completata."); // Eseguito in ogni caso
        });
        */

      //inizio dell' esercizio

      function funzione1() {
        let parametro = 90;
        return new Promise((resolve, reject) => {
          if (parametro > 10) {
            setTimeout(() => {
              resolve("Il parametro è superiore a 10");
            }, 5000);
          } else {
            setTimeout(() => {
              reject("Il parametro è inferiore a 10");
            }, 5000);
          }
        });
      }

      function funzione2() {
        let parametro2 = false;
        return new Promise((resolve, reject) => {
          if (parametro2 === true) {
            setTimeout(() => {
              resolve("Va bene");
            }, 3000);
          } else {
            setTimeout(() => {
              reject("Non va bene");
            }, 3000);
          }
        });
      }

      function funzione3() {
        let parametro3 = 5;
        return new Promise((resolve, reject) => {
          if (parametro3 > 0) {
            resolve("È positivo");
          } else {
            reject("È negativo");
          }
        });
      }

      Promise.allSettled([funzione1(), funzione2(), funzione3()]).then(
        (values) => console.log(values));
    </script>
  </body>
</html>
